<!-- HTML form with Bootstrap styling -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<div id="demo"></div>
<div id="demo1"></div>

<div id="div1" style="text-align: center;">
  <h1>Sweets</h1>
</div>

<div id="div2" style="text-align: center;">
  <h1>Beverages</h1>
</div>
<div class="container mt-3">
<h>Add beverage</h>
<form id="product-form">
  <div class="row mt-3">
  <div class="form-group">
    <label for="name">Name:</label>
    <input type="string" class="form-control" id="name" name="name">
  </div>
  <div class="form-group">
    <label for="name">Volume:</label>
    <input type="number" class="form-control" id="volume" name="volume">
  </div>
  <div class="form-group">
    <label for="price">Price:</label>
    <input type="number" class="form-control" id="price" name="price">
  </div>
  </div>
  <div class="form-group">
    <label for="description">Description:</label>
    <textarea class="form-control" id="description" name="description"></textarea>
  </div>
</div>
  <button type="submit" class="btn btn-primary">Add Product</button>
</form>
<h>Add food</h>
<form id="food-form" class="m-3">
  <div class="form-group">
    <label for="name">Name:</label>
    <input type="string" class="form-control" id="name" name="name">
  </div>
  <div class="form-group">
    <label for="name">Volume:</label>
    <input type="number" class="form-control" id="volume" name="volume">
  </div>
  

  <div class="form-group">
    <label for="price">Price:</label>
    <input type="number" class="form-control" id="price" name="price">
  </div>

  <div class="form-group">
    <label for="description">Description:</label>
    <textarea class="form-control" id="description" name="description"></textarea>
  </div>

  <button type="submit" class="btn btn-primary">Add Product</button>
</form>







<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-analytics.js";
        import { getFirestore, collection, getDocs, addDoc, doc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-firestore.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyApXeXeeK5e80XQ9AYWja9AREuhJ0rPBUk",
          authDomain: "psm-uek-ed5e7.firebaseapp.com",
          projectId: "psm-uek-ed5e7",
          storageBucket: "psm-uek-ed5e7.appspot.com",
          messagingSenderId: "148864041207",
          appId: "1:148864041207:web:9509fc2cf2b6d9dc3793f2",
          measurementId: "G-D1LYG251WT"
        };
      
   const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);
const db = getFirestore(app);

const querySnapshot = await getDocs(collection(db, "beverages"));
querySnapshot.forEach((doc) => {
  // create card div
  const cardDiv = document.createElement("div");
  cardDiv.classList.add("card", "mb-3", "mx-auto", "shadow");
  cardDiv.style.maxWidth = "540px";

  // create card header
  const cardHeader = document.createElement("div");
  cardHeader.classList.add("card-header", "text-center", "fw-bold");
  const headerText = document.createTextNode(doc.id);
  cardHeader.appendChild(headerText);
  cardDiv.appendChild(cardHeader);

  // create card body
  const cardBody = document.createElement("div");
  cardBody.classList.add("card-body");
  cardDiv.appendChild(cardBody);

  // loop through document data and create card content
  Object.entries(doc.data()).forEach(([key, value]) => {
    const row = document.createElement("div");
    row.classList.add("row", "mb-1");

    const col1 = document.createElement("div");
    col1.classList.add("col-sm-4", "fw-bold");
    const col1Text = document.createTextNode(key + ": ");
    col1.appendChild(col1Text);
    row.appendChild(col1);

    const col2 = document.createElement("div");
    col2.classList.add("col-sm-8");
    const col2Text = document.createTextNode(value);
    col2.appendChild(col2Text);
    row.appendChild(col2);

    cardBody.appendChild(row);
  });

  // append card to container element
  const element = document.getElementById("div1");
  element.appendChild(cardDiv);
});


const querySnapshot1 = await getDocs(collection(db, "food"));
querySnapshot1.forEach((doc) => {
  // create card div
  const cardDiv = document.createElement("div");
  cardDiv.classList.add("card", "mb-3", "mx-auto", "shadow");
  cardDiv.style.maxWidth = "540px";

  // create card header
  const cardHeader = document.createElement("div");
  cardHeader.classList.add("card-header", "text-center", "fw-bold");
  const headerText = document.createTextNode(doc.id);
  cardHeader.appendChild(headerText);
  cardDiv.appendChild(cardHeader);

  // create card body
  const cardBody = document.createElement("div");
  cardBody.classList.add("card-body");
  cardDiv.appendChild(cardBody);

  // loop through document data and create card content
  Object.entries(doc.data()).forEach(([key, value]) => {
    const row = document.createElement("div");
    row.classList.add("row", "mb-1");

    const col1 = document.createElement("div");
    col1.classList.add("col-sm-4", "fw-bold");
    const col1Text = document.createTextNode(key + ": ");
    col1.appendChild(col1Text);
    row.appendChild(col1);

    const col2 = document.createElement("div");
    col2.classList.add("col-sm-8");
    const col2Text = document.createTextNode(value);
    col2.appendChild(col2Text);
    row.appendChild(col2);

    cardBody.appendChild(row);
  });

  // append card to container element
  const element = document.getElementById("div2");
  element.appendChild(cardDiv);
});


     
         // Handle form submission
  var form = document.getElementById('product-form');
  form.addEventListener('submit', function(event) {
    event.preventDefault();

    // Get the data from the form's input fields
    var name = form.elements.name.value;
    var volume = form.elements.volume.value;
    var price = form.elements.price.value;
    var end_by_date = form.elements.description.value;

    // Add the data to Firestore
    const docRef = setDoc(doc(db, "beverages",name), {
    price: Number(price),
    volume: Number(volume),
    end_by_date: end_by_date
    });})
    // Handle form submission
  var form = document.getElementById('food-form');
  form.addEventListener('submit', function(event) {
    event.preventDefault();

    // Get the data from the form's input fields
    var name = form.elements.name.value;
    var volume = form.elements.volume.value;
    var price = form.elements.price.value;
    var end_by_date = form.elements.description.value;

    // Add the data to Firestore
    const docRef = setDoc(doc(db, "beverages",name), {
    price: Number(price),
    volume: Number(volume),
    end_by_date: end_by_date
    });})
      </script>
</body>
</html>
